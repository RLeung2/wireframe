(this.webpackJsonptodo_hw3=this.webpackJsonptodo_hw3||[]).push([[0],{247:function(e,t,r){e.exports=r.p+"static/media/zoomin.f774f8a4.png"},248:function(e,t,r){e.exports=r.p+"static/media/zoomout.8ecc5e67.png"},250:function(e){e.exports=JSON.parse('{"users":[{"key":0,"email":"admin1@gmail.com","password":"admin123","firstName":"Admin","initials":"AL","lastName":"Lee","isAdmin":true,"wireframes":[{"name":"wireframe1","key":0,"height":5000,"width":5000,"zoom":1,"controls":[]},{"name":"wireframe2","key":1,"height":5000,"width":5000,"zoom":1,"controls":[]},{"name":"wireframe3","key":2,"height":4500,"width":4500,"zoom":1,"controls":[]}]},{"key":1,"email":"josh@gmail.com","firstName":"Josh","initials":"JL","lastName":"Lee","isAdmin":false,"wireframes":[{"key":0,"controls":[]},{"key":1,"controls":[]}]}]}')},251:function(e,t,r){e.exports=r(549)},256:function(e,t,r){},257:function(e,t,r){},549:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(60),i=r.n(o);r(256),r(257),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=r(7),c=r(8),l=r(10),u=r(9),m=r(11),p=r(12),d=r(15),h=r(244),f=r(25),b=r(16),g=r(154),E=r.n(g);r(437),r(440);E.a.initializeApp({apiKey:"AIzaSyBZSyuFbjzk9edqyony9QUjVOfhe5cJj2g",authDomain:"wireframe4-ecce8.firebaseapp.com",databaseURL:"https://wireframe4-ecce8.firebaseio.com",projectId:"wireframe4-ecce8",storageBucket:"wireframe4-ecce8.appspot.com",messagingSenderId:"413361951397",appId:"1:413361951397:web:351330f1a86412c73d334c",measurementId:"G-WKRC9HH4S3"});var v=E.a,O=r(23);function C(){return{type:"REGISTER_SUCCESS"}}function y(e){return{type:"REGISTER_ERROR",error:e}}function w(){return{type:"LOGOUT_SUCCESS"}}function j(){return{type:"GO_HOME"}}function N(){return{type:"DELETE_SUCCESS"}}function S(){return{type:"SAVE_SUCCESS"}}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(r,!0).forEach((function(t){Object(O.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x={},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return A({},e,{authError:"Login fail"});case"LOGIN_SUCCESS":return A({},e,{authError:null});case"LOGOUT_SUCCESS":return e;case"REGISTER_SUCCESS":return A({},e,{authError:null});case"REGISTER_ERROR":return A({},e,{authError:t.err.message});default:return e}},_={wireframes:[]},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;return t.type,e},R=Object(p.c)({auth:D,wireframe:P,firestore:f.firestoreReducer,firebase:b.firebaseReducer}),z=r(17),T=r(44),F=function(e,t,r){return function(r,n,a){(0,a.getFirestore)().collection("users").doc(e.uid).update({wireframes:t}).then((function(){r(N)}))}},L=function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).handleLogout=function(){var e=r.props.firebase;r.props.signOut(e)},r}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.profile;return e.isAdmin?a.a.createElement("ul",{className:"right"},a.a.createElement("li",null,a.a.createElement(z.c,{to:"/databaseTester"},"Database Tester")),a.a.createElement("li",null,a.a.createElement(z.c,{to:"/",onClick:this.handleLogout},"Log Out"))," ",a.a.createElement("li",null,a.a.createElement(z.c,{to:"/",className:"btn btn-floating pink lighten-1"},e.initials))):a.a.createElement("ul",{className:"right"},a.a.createElement("li",null,a.a.createElement(z.c,{to:"/",onClick:this.handleLogout},"Log Out"))," ",a.a.createElement("li",null,a.a.createElement(z.c,{to:"/",className:"btn btn-floating pink lighten-1"},e.initials)))}}]),t}(a.a.Component),U=Object(p.d)(Object(b.firebaseConnect)(),Object(d.b)(null,(function(e){return{signOut:function(t){return e(function(e){return function(t,r){e.auth().signOut().then((function(){t(w)}))}}(t))}}})))(L),I=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement("ul",{className:"right"},a.a.createElement("li",null,a.a.createElement(z.c,{to:"/register"},"Register")))}}]),t}(a.a.Component),B=function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).handleGoHome=function(e){r.props.goHome()},r}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,r=e.profile,n=t.uid?a.a.createElement(U,{profile:r}):a.a.createElement(I,null);return a.a.createElement("nav",{className:"nav-wrapper grey darken-3"},a.a.createElement("div",{className:"container"},a.a.createElement("span",{className:"brand-logo"},"@Wireframer"),n))}}]),t}(a.a.Component),H=Object(p.d)(Object(b.firebaseConnect)(),Object(d.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}),(function(e){return{goHome:function(){return e({type:"GO_HOME"})}}})))(B),W=r(22);function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(r,!0).forEach((function(t){Object(O.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={email:"",password:"",firstName:"",lastName:""},r.handleChange=function(e){var t=e.target;r.setState((function(e){return Y({},e,Object(O.a)({},t.id,t.value))}))},r.handleSubmit=function(e){e.preventDefault();var t=Object(W.a)(r),n=t.props,a=t.state,o=n.firebase,i=Y({},a);n.register(i,o)},r}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,r=e.authError;return t.uid?a.a.createElement(T.a,{to:"/"}):a.a.createElement("div",{className:"container"},a.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},a.a.createElement("h5",{className:"grey-text text-darken-3"},"Register"),a.a.createElement("div",{className:"input-field"},a.a.createElement("label",{htmlFor:"email"},"Email"),a.a.createElement("input",{type:"email",name:"email",id:"email",onChange:this.handleChange})),a.a.createElement("div",{className:"input-field"},a.a.createElement("label",{htmlFor:"password"},"Password"),a.a.createElement("input",{type:"password",name:"password",id:"password",onChange:this.handleChange})),a.a.createElement("div",{className:"input-field"},a.a.createElement("label",{htmlFor:"firstName"},"First Name"),a.a.createElement("input",{type:"text",name:"firstName",id:"firstName",onChange:this.handleChange})),a.a.createElement("div",{className:"input-field"},a.a.createElement("label",{htmlFor:"lastName"},"Last Name"),a.a.createElement("input",{type:"text",name:"lastName",id:"lastName",onChange:this.handleChange})),a.a.createElement("div",{className:"input-field"},a.a.createElement("button",{type:"submit",className:"btn pink lighten-1 z-depth-0"},"Sign Up"),r?a.a.createElement("div",{className:"red-text center-align"},a.a.createElement("p",null,r)):null)))}}]),t}(n.Component),M=Object(p.d)(Object(b.firebaseConnect)(),Object(d.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{register:function(t,r){return e(function(e,t){return function(r,n,a){var o=(0,a.getFirestore)();t.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return o.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:"".concat(e.firstName[0]).concat(e.lastName[0]),wireframes:[],isAdmin:!1,email:e.email,password:e.password})})).then((function(){r(C)})).catch((function(e){r(y)}))}}(t,r))}}})))(J);function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(r,!0).forEach((function(t){Object(O.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var K=function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={email:"",password:""},r.handleChange=function(e){var t=e.target;r.setState((function(e){return V({},e,Object(O.a)({},t.id,t.value))}))},r.handleSubmit=function(e){e.preventDefault();var t=Object(W.a)(r),n=t.props,a=t.state,o={firebase:n.firebase,credentials:V({},a)};n.login(o)},r}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.auth,r=e.authError;return t.uid?a.a.createElement(T.a,{to:"/"}):a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"row"},a.a.createElement("form",{onSubmit:this.handleSubmit,className:"col s4 white"},a.a.createElement("h5",{className:"grey-text text-darken-3"},"Login"),a.a.createElement("div",{className:"input-field"},a.a.createElement("label",{htmlFor:"email"},"Email"),a.a.createElement("input",{className:"active",type:"email",name:"email",id:"email",onChange:this.handleChange})),a.a.createElement("div",{className:"input-field"},a.a.createElement("label",{htmlFor:"password"},"Password"),a.a.createElement("input",{className:"active",type:"password",name:"password",id:"password",onChange:this.handleChange})),a.a.createElement("div",{className:"input-field"},a.a.createElement("button",{type:"submit",className:"btn pink lighten-1 z-depth-0"},"Login"),r?a.a.createElement("div",{className:"red-text center-align"},a.a.createElement("p",null,r)):null)),a.a.createElement("div",{className:"col s8 banner"},"@Wireframer",a.a.createElement("br",null),"Wireframe Maker")))}}]),t}(n.Component),q=Object(p.d)(Object(b.firebaseConnect)(),Object(d.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{login:function(t){return e(function(e){var t=e.credentials,r=e.firebase;return function(e,n){r.auth().signInWithEmailAndPassword(t.email,t.password).then((function(){console.log("LOGIN_SUCCESS"),e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}}(t))}}})))(K),Q=r(74),Z=function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).handleDelete=function(e){console.log("PLEEEEEASE"),e.preventDefault();var t=Object(W.a)(r).props,n=t.firebase,a=t.profile,o=r.props.wireframes;o.splice(r.props.id,1),console.log(a),t.delete(a,o,n)},r}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.wireframe;return console.log("TodoListCard, todoList.id: "+e.id),a.a.createElement("div",{className:"card z-depth-0 todo-list-link"},a.a.createElement("div",{className:"card-content grey-text text-darken-3"},a.a.createElement("span",{className:"card-title"},e.name)))}}]),t}(a.a.Component),$=Object(p.d)(Object(d.b)((function(e){return{profile:e.firebase.auth,auth:e.firebase.auth,wireframes:e.firebase.profile.wireframes}}),(function(e){return{delete:function(t,r,n){return e(F(t,r))}}})))(Z),ee=function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).handleDelete=function(e,t){t.stopPropagation();var n=Object(W.a)(r).props,a=n.firebase,o=n.profile,i=r.props.wireframes,s=r.props.history;i.splice(e,1),console.log(o),n.delete(o,i,a),s.push("/login")},r}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.wireframes,r=a.a.createElement("div",{className:"card-delete-button"},"\u274c");return console.log(t),a.a.createElement("div",{className:"wireframes section"},a.a.createElement("div",{className:"wireframe-links-title"},"Recent Work"),t&&t.map((function(t,n){return a.a.createElement("div",null,a.a.createElement(z.b,{to:"/wireFrame/"+n,key:t.id},a.a.createElement($,{wireframe:t})),a.a.createElement(Q.Modal,{header:"Unsaved Changes",trigger:r},"Delete Wireframe?",a.a.createElement("button",{className:"btn green lighten-1 z-depth-0",onClick:e.handleDelete.bind(e,n)},"Yes")),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null))})))}}]),t}(a.a.Component),te=Object(p.d)(Object(d.b)((function(e){return{profile:e.firebase.auth,auth:e.firebase.auth,wireframes:e.firebase.profile.wireframes}}),(function(e){return{delete:function(t,r,n){return e(F(t,r))}}})))(ee),re=r(246),ne=r.n(re),ae=function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).createNewWireframe=function(){console.log("home screen, uid is"),console.log(r.props.auth.uid);var e=Object(f.getFirestore)(),t=e.collection("users").doc(r.props.auth.uid),n=r.props.history;t.get().then((function(t){if(t.exists){console.log("Document data:",t.data().wireframes);var r=t.data().wireframes,a={key:ne.a.v4(),name:"Unknown",height:"3500",width:"3500",zoom:1,created:new Date,controls:[]};r.unshift(a),e.collection("users").doc(t.id).update({wireframes:r}).then((function(){console.log("Added a new wireframe"),n.push("/wireframe/0")})).catch((function(e){console.log(e)}))}else console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))},r}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.auth.uid?a.a.createElement("div",{className:"dashboard container"},a.a.createElement("div",{className:"row"},a.a.createElement("div",{className:"col s12 m4"},a.a.createElement(te,{history:this.props.history})),a.a.createElement("div",{className:"col s8"},a.a.createElement("div",{className:"banner"},"Wireframer",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null)),a.a.createElement("div",{className:"home_new_list_container"},a.a.createElement("button",{className:"home_new_list_button",onClick:this.createNewWireframe},"Create a New Wireframe"))))):a.a.createElement(T.a,{to:"/login"})}}]),t}(n.Component),oe=Object(p.d)(Object(d.b)((function(e){return console.log(e),{auth:e.firebase.auth}})),Object(b.firestoreConnect)([{collection:"users"}]))(ae),ie=r(247),se=r.n(ie),ce=r(248),le=r.n(ce),ue=(r(239),r(488),r(75)),me=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;console.log(this.props.control);var t={fontSize:this.props.control.font_size,color:this.props.control.text_color,backgroundColor:this.props.control.background_color,border:String(this.props.control.border_thickness)+"px solid",borderColor:this.props.control.border_color,borderRadius:this.props.control.border_radius,display:"inline-block",height:"100%",width:"100%"};return"button"===this.props.control.controlType?a.a.createElement(ue.a,{size:{width:this.props.control.width,height:this.props.control.height},position:{x:this.props.control.posX,y:this.props.control.posY},bounds:"parent",minWidth:70,minHeight:40,className:this.props.control.className,onClick:function(t){return e.props.selectControl(t,e.props.index)},onDragStop:function(t,r){return e.props.repositionControl(e.props.index,r.x,r.y)},onResizeStop:function(t,r,n,a,o){return e.props.resizeControl(e.props.index,n.style.width,n.style.height)}},a.a.createElement("button",{style:t},this.props.control.text)):"textfield"===this.props.control.controlType?a.a.createElement(ue.a,{size:{width:this.props.control.width,height:this.props.control.height},position:{x:this.props.control.posX,y:this.props.control.posY},bounds:"parent",minWidth:70,minHeight:40,className:this.props.control.className,onClick:function(t){return e.props.selectControl(t,e.props.index)},onDragStop:function(t,r){return e.props.repositionControl(e.props.index,r.x,r.y)},onResizeStop:function(t,r,n,a,o){return e.props.resizeControl(e.props.index,n.style.width,n.style.height)}},a.a.createElement("input",{type:"text",style:t,value:this.props.control.text})):"label"===this.props.control.controlType?a.a.createElement(ue.a,{size:{width:this.props.control.width,height:this.props.control.height},position:{x:this.props.control.posX,y:this.props.control.posY},bounds:"parent",minWidth:70,minHeight:40,className:this.props.control.className,onClick:function(t){return e.props.selectControl(t,e.props.index)},onDragStop:function(t,r){return e.props.repositionControl(e.props.index,r.x,r.y)},onResizeStop:function(t,r,n,a,o){return e.props.resizeControl(e.props.index,n.style.width,n.style.height)}},a.a.createElement("label",{style:t},this.props.control.text)):a.a.createElement(ue.a,{size:{width:this.props.control.width,height:this.props.control.height},position:{x:this.props.control.posX,y:this.props.control.posY},bounds:"parent",minWidth:70,minHeight:40,style:{borderStyle:"solid",borderColor:"black",borderRadius:"5px"},className:this.props.control.className,onClick:function(t){return e.props.selectControl(t,e.props.index)},onDragStop:function(t,r){return e.props.repositionControl(e.props.index,r.x,r.y)},onResizeStop:function(t,r,n,a,o){return e.props.resizeControl(e.props.index,n.style.width,n.style.height)}},a.a.createElement("div",{className:"container_wireframe",style:t}))}}]),t}(n.Component),pe=r(104);function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(r,!0).forEach((function(t){Object(O.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fe=function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={controlsArr:JSON.parse(JSON.stringify(r.props.wireframe.controls)),height:r.props.wireframe.height,width:r.props.wireframe.width,updatedHeight:r.props.wireframe.height,updatedWidth:r.props.wireframe.width,selectControl:-1,name:void 0===r.props.wireframe?"":r.props.wireframe.name,dimensionChange:!1,dimensionUpdated:!1,madeChange:!1},r.handleChange=function(e){var t=e.target;r.setState((function(e){return he({},e,Object(O.a)({},t.id,t.value))}),(function(){console.log("handle name change");var e=Object(f.getFirestore)(),t=e.collection("users").doc(r.props.auth.uid),n=r.props.id,a=r.state.name;t.get().then((function(t){if(t.exists){var r=t.data().wireframes;console.log("name is "+r[n].name),r[n].name=a,e.collection("users").doc(t.id).update({wireframes:r}).catch((function(e){console.log(e)}))}})).catch((function(e){console.log("Error getting document:",e)}))}))},r.handleNameChange=function(e){var t=e.target,n=Object(W.a)(r).props,a=(n.firebase,n.profile,r.props.wireframes);r.setState((function(e){var r;return he({},e,(r={},Object(O.a)(r,t.id,t.value),Object(O.a)(r,"madeChange",!0),r))})),a[n.wireframe.id].name=r.state.name},r.handleGoHome=function(){var e=r.props.id,t=Object(W.a)(r).props,n=t.firebase,a=t.profile,o=r.props.wireframes,i=o[e];o.splice(e,1),o.unshift(i),t.goHome(a,o,n),console.log("HOME"),r.props.history.push("/")},r.handleSave=function(e){e.preventDefault();var t=Object(W.a)(r).props,n=t.firebase,a=t.profile,o=r.props.wireframes;o[t.wireframe.id].controls=r.state.controlsArr,o[t.wireframe.id].name=r.state.name,r.state.dimensionUpdated&&(o[t.wireframe.id].height=r.state.updatedHeight,o[t.wireframe.id].width=r.state.updatedWidth),t.save(a,o,n),r.setState({madeChange:!1})},r.keysHandler=function(e){console.log("HANDLER: \n"),console.log(r.state),e.stopImmediatePropagation(),68===e.keyCode&&e.ctrlKey?(e.preventDefault(),r.copyControl(r.state.selectControl)):46===e.keyCode&&(e.preventDefault(),r.deleteControl(r.state.selectControl))},r.copyControl=function(e){if(-1!==e){var t=JSON.parse(JSON.stringify(r.state.controlsArr[e]));t.posX-=100,t.posY-=100,t.posX<0&&(t.posX=0),t.posY<0&&(t.posY=0);var n=JSON.parse(JSON.stringify(r.state.controlsArr));n.push(t),r.setState((function(e){return he({},e,{controlsArr:n,selectControl:n.length-1,madeChange:!0})}))}},r.deleteControl=function(e){if(-1!==e){var t=r.state.controlsArr;t.splice(e,1),r.setState((function(e){return he({},e,{controlsArr:t,selectControl:-1,madeChange:!0})}))}},r.selectControl=function(e,t){console.log(r.state),e.stopPropagation(),r.state.controlsArr.map((function(e){return e.className-="borderimg"})),-1!==t&&(r.state.controlsArr[t].className="borderimg",console.log(r.state.controlsArr[t].className)),r.setState((function(e){return he({},e,{selectControl:t})}))},r.addControl=function(e){var t=0,n=0,a="";"button"===e?(t=50,n=10,a="Button"):"label"===e?(t=100,n=30,a="Label"):"textfield"===e?(t=200,n=100,a="Textfield"):(t=200,n=100);var o={controlType:e,posX:0,posY:0,height:n,width:t,text:a,fontSize:12,bgColor:"#ffffff",borderColor:"#ffffff",textColor:"#000000",borderThickness:1,borderRadius:0,className:"border"},i=r.state.controlsArr;i.push(o),r.setState((function(e){return he({},e,{controlsArr:i,madeChange:!0})}))},r.repositionControl=function(e,t,n){var a=r.state.controlsArr,o=r.state.controlsArr[e];o.posX=t,o.posY=n,a[e]=o,r.setState((function(e){return he({},e,{controlsArr:a,madeChange:!0})}))},r.resizeControl=function(e,t,n){var a=r.state.controlsArr,o=r.state.controlsArr[e];o.width=Number(t.substring(0,t.length-2)),o.height=Number(n.substring(0,n.length-2)),a[e]=o,r.setState((function(e){return he({},e,{controlsArr:a,madeChange:!0})}))},r.handleDimension=function(e){var t=e.target;r.setState((function(e){var r;return he({},e,(r={},Object(O.a)(r,t.id,t.value),Object(O.a)(r,"dimensionChange",!0),r))}))},r.handleUpdateDimensions=function(e){e.preventDefault();var t=Object(W.a)(r).props;t.firebase,t.profile,r.props.wireframes;r.state.height>5e3||r.state.height<1||r.state.width>5e3||r.state.width<1?console.log("Invalid Dimensions"):(document.getElementById("wireframeCanvas").style.height=625*r.state.updatedHeight/5e3+"px",document.getElementById("wireframeCanvas").style.width=625*r.state.updatedWidth/5e3+"px",r.setState({dimensionUpdated:!0,madeChange:!0}))},r.saveModal=function(e){r.handleSave(e),r.props.history.push("/")},r.close=function(){r.handleGoHome()},r.setTextValue=function(){return-1===r.state.selectControl||"container"===r.state.controlsArr[r.state.selectControl].control_type?"":r.state.controlsArr[r.state.selectControl].text},r.changeControlText=function(e){var t=e.target;if(-1!==r.state.selectControl){var n=r.state.controlsArr;n[r.state.selectControl].text=t.value,r.setState((function(e){return he({},e,{controlsArr:n})}))}},r.setFontSize=function(){return-1===r.state.selectControl||"container"===r.state.controlsArr[r.state.selectControl].control_type?"":r.state.controlsArr[r.state.selectControl].font_size},r.changeFontSize=function(e){var t=e.target;if(-1!==r.state.selectControl){var n=r.state.controlsArr;n[r.state.selectControl].font_size=Number(t.value),r.setState((function(e){return he({},e,{controlsArr:n})}))}},r.setColor=function(e){return-1===r.state.selectControl?"#000":"text"===e&&"container"!==r.state.controlsArr[r.state.selectControl].control_type?r.state.controlsArr[r.state.selectControl].text_color:"background"===e?r.state.controlsArr[r.state.selectControl].background_color:r.state.controlsArr[r.state.selectControl].border_color},r.changeColor=function(e,t){if(-1!==r.state.selectControl){var n=r.state.controlsArr;"text"===t&&(n[r.state.selectControl].text_color=e.hex,r.setState((function(e){return he({},e,{controlsArr:n})}))),"background"===t&&(n[r.state.selectControl].background_color=e.hex,r.setState((function(e){return he({},e,{controlsArr:n})}))),"border"===t&&(n[r.state.selectControl].border_color=e.hex,r.setState((function(e){return he({},e,{controlsArr:n})})))}},r.setBorderThickness=function(){return-1===r.state.selectControl?"":r.state.controlsArr[r.state.selectControl].border_thickness},r.changeBorderThickness=function(e){var t=e.target;if(-1!==r.state.selectControl){var n=r.state.controlsArr;n[r.state.selectControl].border_thickness=Number(t.value),r.setState((function(e){return he({},e,{controlsArr:n})}))}},r.setBorderRadius=function(){return-1===r.state.selectControl?"":r.state.controlsArr[r.state.selectControl].border_radius},r.changeBorderRadius=function(e){var t=e.target;if(-1!==r.state.selectControl){var n=r.state.controlsArr;n[r.state.selectControl].border_radius=Number(t.value),r.setState((function(e){return he({},e,{controlsArr:n})}))}},r}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){console.log("MOUNT: \n"),console.log(this.state),document.addEventListener("keydown",this.keysHandler),document.getElementById("wireframeCanvas").style.height=600*this.state.height/5e3+"px",document.getElementById("wireframeCanvas").style.width=600*this.state.width/5e3+"px"}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keysHandler)}},{key:"render",value:function(){var e=this,t=a.a.createElement("button",{id:"close",onClick:this.close},"Close"),r=a.a.createElement("button",{id:"trig"},"Close"),n=this.props.auth,o=this.props.wireframe,i=this.props.wireframe.height,s=this.props.wireframe.width;return n.uid?a.a.createElement("div",{className:"card z-depth-0 wireframer"},a.a.createElement("div",{className:"input-field"},a.a.createElement("label",{htmlFor:"email",className:"active"},"Name:"),a.a.createElement("input",{type:"text",name:"name",id:"name",onChange:this.handleNameChange,defaultValue:o.name})),a.a.createElement("div",{className:"wireframeEditor"},a.a.createElement("div",{className:"wireframeFinalize"},a.a.createElement("img",{className:"zoom",src:se.a}),a.a.createElement("img",{className:"zoom",src:le.a}),a.a.createElement("button",{disabled:!this.state.madeChange,onClick:this.handleSave},"Save"),this.state.madeChange?a.a.createElement(Q.Modal,{header:"Unsaved Changes",trigger:this.state.madeChange?r:null},"You have unsaved changes",a.a.createElement("button",{className:"btn green lighten-1 z-depth-0",onClick:this.saveModal},"Save Changes"),a.a.createElement("button",{className:"btn pink lighten-1 z-depth-0",onClick:this.close},"Close Without Saving")):t),a.a.createElement("div",null,a.a.createElement("div",null,"Height: ",a.a.createElement("input",{type:"number",id:"updatedHeight",defaultValue:i,onChange:this.handleDimension})),a.a.createElement("div",null,"Width: ",a.a.createElement("input",{type:"number",id:"updatedWidth",defaultValue:s,onChange:this.handleDimension})),a.a.createElement("button",{id:"updateButton",disabled:!this.state.dimensionChange,onClick:this.handleUpdateDimensions},"Update Dimensions")),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return e.addControl("container")}},a.a.createElement("div",{className:"container_wireframe"})),a.a.createElement("div",null,"Container ")),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return e.addControl("label")}},a.a.createElement("label",null,"Label")),a.a.createElement("div",null,"Label ")),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return e.addControl("button")}},"ADD BUTTON"),a.a.createElement("div",null,"Button ")),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return e.addControl("textfield")}}," ",a.a.createElement("input",{type:"text"})," "),a.a.createElement("div",null,"Textfield ")),a.a.createElement("div",null)),a.a.createElement("div",{className:"canvasContainer"},a.a.createElement("div",{id:"wireframeCanvas",className:"wireframeCanvas",onClick:function(t){return e.selectControl(t,-1)}},this.state.controlsArr.map((function(t,r){return a.a.createElement(me,{index:r,control:t,selectControl:e.selectControl,repositionControl:e.repositionControl,resizeControl:e.resizeControl})})))),a.a.createElement("div",{className:"controls"},a.a.createElement("div",null,"Properties "),a.a.createElement("br",null),a.a.createElement("div",null," Text: ",a.a.createElement("input",{value:this.setTextValue(),onChange:this.changeControlText,type:"text"})),a.a.createElement("br",null),a.a.createElement("div",null," Font Size: ",a.a.createElement("input",{value:this.setFontSize(),onChange:this.changeFontSize,type:"number"})),a.a.createElement("br",null),a.a.createElement("div",{className:"font-color-name"}," Font Color: "),a.a.createElement(pe.SketchPicker,{color:this.setColor("text"),onChange:function(t){return e.changeColor(t,"text")},className:"color-picker"}),a.a.createElement("br",null),a.a.createElement("div",{className:"background-name"}," Background: "),a.a.createElement(pe.SketchPicker,{color:this.setColor("background"),onChange:function(t){return e.changeColor(t,"background")},className:"background-color-picker"}),a.a.createElement("br",null),a.a.createElement("div",{className:"font-color-name"}," Border Color: "),a.a.createElement(pe.SketchPicker,{color:this.setColor("border"),onChange:function(t){return e.changeColor(t,"border")},className:"color-picker"}),a.a.createElement("br",null),a.a.createElement("div",{className:"border-name-1"}," Border Thickness: "),a.a.createElement("input",{value:this.setBorderThickness(),onChange:this.changeBorderThickness,type:"number",className:"border-input-field"}),a.a.createElement("br",null),a.a.createElement("div",{className:"border-name"}," Border Radius: "),a.a.createElement("input",{value:this.setBorderRadius(),onChange:this.changeBorderRadius,type:"number",className:"border-input-field"}))):a.a.createElement(T.a,{to:"/"})}}]),t}(n.Component),be=Object(p.d)(Object(d.b)((function(e,t){var r=t.match.params.id,n=e.firebase.profile.wireframes,a=n?n[r]:null;return a&&(a.id=r),{wireframe:a,wireframes:n,id:r,profile:e.firebase.auth,auth:e.firebase.auth}}),(function(e){return{save:function(t,r,n){return e(function(e,t,r){return function(r,n,a){(0,a.getFirestore)().collection("users").doc(e.uid).update({wireframes:t}).then((function(){r(S)}))}}(t,r))},goHome:function(t,r,n){return e(function(e,t,r){return function(r,n,a){(0,a.getFirestore)().collection("users").doc(e.uid).update({wireframes:t}).then((function(){r(S),r(j)}))}}(t,r))}}})),Object(b.firestoreConnect)([{collection:"users"}]))(fe),ge=r(250),Ee=function(e){function t(){var e,r;Object(s.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).handleClear=function(){var e=Object(f.getFirestore)();r.props.firebase;e.collection("users").get().then((function(t){t.forEach((function(t){console.log("clearing "+t.id),e.collection("users").doc(t.id).update({wireframes:[]}).then((function(){console.log("DATABASE RESET")})).catch((function(e){console.log(e)}))}))}))},r.handleReset=function(){var e=Object(f.getFirestore)();r.props.firebase;e.collection("users").get().then((function(t){t.forEach((function(t){console.log("clearing "+t.id),ge.users.forEach((function(r){t.data().email===r.email&&e.collection("users").doc(t.id).update({firstName:r.firstName,lastName:r.lastName,initials:r.initials,password:r.password,isAdmin:r.isAdmin,wireframes:r.wireframes}).then((function(){console.log("DATABASE RESET")})).catch((function(e){console.log(e)}))}))}))}))},r}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.profile.isAdmin?a.a.createElement("div",null,a.a.createElement("button",{onClick:this.handleClear},"Clear Database"),a.a.createElement("button",{onClick:this.handleReset},"Reset Database")):a.a.createElement("div",null,"THAT'S FUNNY, YOU'RE NOT AND ADMIN!")}}]),t}(a.a.Component),ve=Object(d.b)((function(e){return{auth:e.firebase.auth,firebase:e.firebase,profile:e.firebase.profile}}))(Ee),Oe=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.auth.isLoaded?a.a.createElement(z.a,null,a.a.createElement("div",{className:"App"},a.a.createElement(H,null),a.a.createElement(T.d,null,a.a.createElement(T.b,{exact:!0,path:"/",component:oe}),a.a.createElement(T.b,{path:"/databaseTester",component:ve}),a.a.createElement(T.b,{path:"/register",component:M}),a.a.createElement(T.b,{path:"/login",component:q}),a.a.createElement(T.b,{path:"/wireframe/:id",component:be}),a.a.createElement(T.b,{path:"/:any",component:oe})))):null}}]),t}(n.Component),Ce=Object(p.d)(Object(b.firebaseConnect)(),Object(d.b)((function(e){return{auth:e.firebase.auth}})))(Oe),ye=function(e){function t(e){var r;Object(s.a)(this,t),r=Object(l.a)(this,Object(u.a)(t).call(this,e));var n=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d,a=Object(p.e)(R,n(Object(p.a)(h.a.withExtraArgument({getFirebase:b.getFirebase,getFirestore:f.getFirestore})),Object(f.reduxFirestore)(v))),o={firebase:v,config:{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0},dispatch:a.dispatch,createFirestoreInstance:f.createFirestoreInstance};return r.state={store:a,rrfProps:o},r}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement(d.a,{store:this.state.store},a.a.createElement(b.ReactReduxFirebaseProvider,this.state.rrfProps,a.a.createElement(Ce,null)))}}]),t}(a.a.Component);i.a.render(a.a.createElement(ye,null),document.getElementById("root"))}},[[251,1,2]]]);
//# sourceMappingURL=main.b7cfcf47.chunk.js.map